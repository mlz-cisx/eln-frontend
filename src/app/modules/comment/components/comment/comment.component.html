<ng-container *transloco="let t">
  <div class="p-6 border-b" [ngClass]="{ 'bg-tum-highlight': currentUser?.pk === comment.left_content_object.created_by.pk }">
    <div class="flex justify-between mb-4">
      <div class="flex space-x-1">
        <div>
          <div class="text-gray-600">
            {{ comment.left_content_object.created_at | formatDate }}
          </div>
        </div>
      </div>
      <div class="self-center" *ngIf="currentUser?.pk === currentUser?.pk ">
        <button type="button" class="btn mlzeln-button-small mr-2" (click)="onChangePrivateState()" [disabled]="loading">
          <joeseln-icon
            *ngIf="comment.private"
            className="wb-locked"
            [tooltip]="t('comments.privateComment.tooltip')"
            containerClass="tooltip-sm"
          ></joeseln-icon>
          <joeseln-icon
            *ngIf="!comment.private"
            className="wb-unlock"
            [tooltip]="t('comments.publicComment.tooltip')"
            containerClass="tooltip-sm"
          ></joeseln-icon>
        </button>
        <button type="button" class="btn mlzeln-button-small" (click)="onOpenDeleteModal()" [disabled]="loading">
          <joeseln-icon
            className="wb-remove"
            [tooltip]="t('comments.deleteComment.tooltip')"
            containerClass="tooltip-sm"
          ></joeseln-icon>
        </button>
      </div>
    </div>
    <div>
      <div class="font-bold mb-2">{{ comment.left_content_object.subject }}</div>
      <div [innerHTML]="comment.left_content_object.content "></div>
    </div>
  </div>
</ng-container>
