<ng-container *transloco="let t">
  <mlzeln-modal [modalFooter]="false">
    <div slot="header">
      {{ t('versions.previewModal.header') }}
      <ng-container *ngIf="versionNumber">{{ versionNumber }}</ng-container>
    </div>
    <div slot="body">
      <div class="mb-4">
        <label
          for="versionCreated">{{ t('versions.previewModal.versionCreated.label') }}</label>
        <div class="flex items-center" id="versionCreated">
          <span
            class="mr-2">{{ version.created_at| formatDate }}{{ ' ' }}{{ t('versions.by') }}</span>
          <mlzeln-user-details class="inline-block"
                                   [user]="version.created_by"
                                   [modal]="false"></mlzeln-user-details>
        </div>
      </div>
      <div class="mb-4">
        <label
          for="versionSummary">{{ t('versions.previewModal.versionSummary.label') }}</label>
        <div id="versionSummary">
          {{ version.summary || t('formInput.notDefined.placeholder') }}
        </div>
      </div>
      <hr/>
    </div>
  </mlzeln-modal>


  <mlzeln-note-preview
    *ngIf="contentType === 'note'"
    [id]="version.object_id"
    [version]="version.pk"
    [versionInProgress]="versionInProgress"
    [modalRef]="modalRef"
    (closed)="onModalClose($event)"
  ></mlzeln-note-preview>


  <mlzeln-labbook-preview
    *ngIf="contentType === 'labBook'"
    [id]="version.object_id"
    [version]="version.pk"
    [versionInProgress]="versionInProgress"
    [modalRef]="modalRef"
    (closed)="onModalClose($event)"
  ></mlzeln-labbook-preview>


  <mlzeln-file-preview
    *ngIf="contentType === 'file'"
    [id]="version.object_id"
    [version]="version.pk"
    [versionInProgress]="versionInProgress"
    [modalRef]="modalRef"
    (closed)="onModalClose($event)"
  ></mlzeln-file-preview>

  <mlzeln-picture-preview
    *ngIf="contentType === 'picture'"
    [id]="version.object_id"
    [version]="version.pk"
    [versionInProgress]="versionInProgress"
    [modalRef]="modalRef"
    (closed)="onModalClose($event)"
  ></mlzeln-picture-preview>

</ng-container>
